# README

## Описание проекта

Данный проект предназначен для управления шлюзами и конфигурацией замков. Приложение использует файл  `.env`  для хранения переменных окружения и файл  `config.json`  для указания IP адресов шлюзов и конфигурации замков.

## Подготовка окружения
### 1. Создание файла окружения
Создайте файл  `.env`  в директории `src` проекта и заполните его следующими переменными:

    USERNAME=<ваш_имя_пользователя>
    PASSWORD_HASH=<хэш_пароля>
    SECRET_KEY=<секретный_ключ>
    LOG_LEVEL=INFO
    PORT=<порт_для_запуска_приложения>

### 2. Конфигурация
Проект использует файл  `config.json`  для настройки IP адресов шлюзов и конфигурации замков. Убедитесь, что файл  `config.json`  находится в директории  `src`  и содержит корректные данные.

Пример структуры файла  `config.json`:

    {
        "192.168.77.237": {
          "boards": 2,
          "locks": [
            {"id": "A1", "board": 0, "lock": 1},
            {"id": "A2", "board": 0, "lock": 2},
            {"id": "A3", "board": 0, "lock": 3},
            ...
            {"id": "A48", "board": 0, "lock": 48},
            {"id": "A49", "board": 1, "lock": 1},
            ...
            {"id": "A94", "board": 1, "lock": 46},
            {"id": "A95", "board": 1, "lock": 47},
            {"id": "A96", "board": 1, "lock": 48}
          ]
        },
        "192.168.77.240": {
          "boards": 1,
          "locks": [
            {"id": "B1", "board": 0, "lock": 1},
            {"id": "B2", "board": 0, "lock": 2},
            {"id": "B3", "board": 0, "lock": 3},
            ...
            {"id": "B48", "board": 0, "lock": 48},
          
        }
    }

## Сборка и запуск контейнера

### 1. Сборка Docker-образа

Используйте Dockerfile из проекта для сборки образа.

### 2. Запуск контейнера

Для запуска контейнера выполните команду:

    docker run --env-file .env -p $PORT:$PORT -e PORT=$PORT <имя_образа>

## Логи и мониторинг

Логи приложения выводятся в stdout. Вы можете просматривать их с помощью стандартных инструментов Docker, например:

    docker logs <имя_контейнера>

## Заключение

После выполнения всех вышеописанных шагов ваше приложение будет успешно развернуто и готово к использованию. В случае возникновения вопросов или проблем, пожалуйста, обратитесь к администратору проекта.
